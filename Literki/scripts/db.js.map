{"version":3,"file":"db.js","sourceRoot":"","sources":["db.ts"],"names":["GameRepository","GameRepository.constructor","GameRepository.open","GameRepository.allGames","GameRepository.newState","GameRepository.loadState","GameRepository.saveState","GameRepository.loadOrCreateUser","GameRepository.loadUser","GameRepository.connect","GameRepository.addGameStateSchema","GameRepository.addUserProfileSchema","GameRepository.getMaxGameId"],"mappings":"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"}